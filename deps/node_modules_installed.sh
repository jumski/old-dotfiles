node_modules_installed() {
  require node_installed

  is_met() {
    npm install
    true
  }

  nvm_installed() {
    require apt_installed curl

    is_met() {
      source ~/.nvm/nvm.sh && which nvm 2>&1 >/dev/null
    }

    meet() {
      curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.31.0/install.sh | bash
    }
  }

  node_installed() {
    require nvm_installed

    is_met() {
      source ~/.nvm/nvm.sh &&
	nvm use 5 &&
	which npm 2>&1 >/dev/nul
    }

    meet() {
      nvm install 5
    }
  }
}
